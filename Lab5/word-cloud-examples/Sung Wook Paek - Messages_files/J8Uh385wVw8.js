if (self.CavalryLogger) { CavalryLogger.start_js(["5oW0N"]); }

__d('MessengerPhotoishXMA.react',['BootloadedComponent.react','JSResource','React','requireWeak'],(function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();var j=void 0;c('requireWeak')('MessengerPhotosGroup.react',function(l){j=l;});h=babelHelpers.inherits(k,c('React').Component);i=h&&h.prototype;function k(l){i.constructor.call(this,l);}k.prototype.shouldComponentUpdate=function(l,m){return this.props!==l;};k.prototype.render=function(){if(!j)return (c('React').createElement(c('BootloadedComponent.react'),babelHelpers['extends']({bootloadPlaceholder:c('React').createElement('div',null),bootloadLoader:c('JSResource')('MessengerPhotosGroup.react').__setRef('MessengerPhotoishXMA.react'),isXMA:true},this.props)));return c('React').createElement(j,babelHelpers['extends']({isXMA:true},this.props));};f.exports=k;}),null);
__d('MessengerAttachmentImageBlock.react',['cx','React','URI','isFacebookURI','joinClasses'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;function l(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=j.constructor).call.apply(n,[this].concat(q)),this.$MessengerAttachmentImageBlock2=function(){if(!this.props.attachment.media||!this.props.attachment.media.image)return null;var s=this.$MessengerAttachmentImageBlock3(),t=s.height,u=s.width,v=t>u,w=new (c('URI'))(this.props.attachment.uri),x=m(t,u)||c('isFacebookURI')(w)&&!w.isLinkshimURI(),y=t&&u?t/u*100:100,z=v||x?.2:1,aa=v||x?y:52,ba={backgroundImage:'url('+this.props.attachment.media.image+')',minHeight:'0px',paddingBottom:v&&y>150?'136px':aa*z+'%'};if(this.props.attachment.description&&this.props.attachment.source)ba.minHeight='112px';return (c('React').createElement('div',{className:"_3xn1",style:ba}));}.bind(this),this.$MessengerAttachmentImageBlock1=function(){if(!this.props.attachment.media||!this.props.attachment.media.image)return "_3xn3 _5swn";var s=this.$MessengerAttachmentImageBlock3(),t=s.height,u=s.width,v=t>u,w=new (c('URI'))(this.props.attachment.uri),x=m(t,u)||c('isFacebookURI')(w)&&!w.isLinkshimURI();return "_3xn3"+(x&&!v?' '+"_3xn5":'')+(v?' '+"_3xn6":'')+(u>=t&&!x?' '+"_3xn7":'');}.bind(this),this.$MessengerAttachmentImageBlock3=function(){var s=this.props.attachment.properties||this.props.attachment.media.image_size||{},t=s.height,u=s.width;if(t&&u){t=parseInt(t,10);u=parseInt(u,10);return {height:t,width:u};}return {height:0,width:0};}.bind(this),o;}l.prototype.render=function(){return c('React').createElement('div',{className:c('joinClasses')(this.props.className,this.$MessengerAttachmentImageBlock1())},this.$MessengerAttachmentImageBlock2(),c('React').createElement('div',{className:"_5swm"},this.props.children));};l.propTypes={attachment:k.object.isRequired};function m(n,o){return n<=300&&o<=300;}f.exports=l;}),null);
__d('MercuryShareImage.react',['cx','ChatImageArrowDirection','ChatImageWithArrow.react','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;l.prototype.render=function(){return (c('React').createElement('div',{className:"_4hsl"},c('React').createElement(c('ChatImageWithArrow.react'),{arrowDirection:c('ChatImageArrowDirection').BOTH,height:this.props.height,round:!!this.props.round,source:this.props.source,width:this.props.width})));};function l(){i.apply(this,arguments);}l.propTypes={height:k.number.isRequired,round:k.bool,source:k.string.isRequired,width:k.number.isRequired};f.exports=l;}),null);
__d('MercuryFallbackShareAttachmentTextBlock.react',['cx','LineClamp.react','MercuryShareAttachmentRenderLocations','MercuryShareAttachmentReactShape','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;l.prototype.render=function(){if(!this.props||!this.props.attachment)return c('React').createElement('div',{className:"__6j"});if(c('MercuryShareAttachmentRenderLocations').MESSENGER===this.props.location)return (c('React').createElement('div',{className:"__6j"},this.renderMessengerTitle(),this.renderMessengerDescription(),this.renderMessengerSource()));return (c('React').createElement('div',{className:"__6j"},this.renderTitle(),this.renderDescription(),this.renderSource()));};l.prototype.renderMessengerTitle=function(){if(!this.props.attachment.title)return null;return (c('React').createElement('div',{className:"__6k"},c('React').createElement(c('LineClamp.react'),{customEllipsis:" ",lines:2,lineHeight:18},this.props.attachment.title)));};l.prototype.renderMessengerDescription=function(){if(!this.props.attachment.description)return null;return (c('React').createElement('div',{className:"__6l"},c('React').createElement(c('LineClamp.react'),{customEllipsis:" ",lines:2,lineHeight:16},this.props.attachment.description)));};l.prototype.renderMessengerSource=function(){if(!this.props.attachment.source)return null;return (c('React').createElement('div',{className:"__6m"},this.props.attachment.source));};l.prototype.renderTitle=function(){if(!this.props.attachment.title)return null;return (c('React').createElement('div',{className:"__6k"+(!this.props.attachment.uri&&!this.props.attachment.description?' '+"_2xsq":'')},this.props.attachment.title));};l.prototype.renderDescription=function(){if(!this.props.attachment.description)return null;return (c('React').createElement('div',{className:"__6l"},this.props.attachment.description));};l.prototype.renderSource=function(){if(!this.props.attachment.source)return null;return (c('React').createElement('div',{className:"__6m"},this.props.attachment.source));};function l(){i.apply(this,arguments);}l.propTypes={attachment:c('MercuryShareAttachmentReactShape'),location:k.oneOf(c('MercuryShareAttachmentRenderLocations').getValues())};f.exports=l;}),null);
__d('MercuryFallbackShareAttachmentContent.react',['cx','Image.react','ImageBlock.react','MercuryFallbackShareAttachmentTextBlock.react','MercuryShareAttachmentRenderLocations','MercuryShareAttachmentReactShape','MercuryShareImage.react','MessengerAttachmentImageBlock.react','React','joinClasses'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes,l=72;i=babelHelpers.inherits(m,c('React').Component);j=i&&i.prototype;m.prototype.renderTextBlock=function(){return (c('React').createElement(c('MercuryFallbackShareAttachmentTextBlock.react'),this.props));};m.prototype.renderChatImage=function(n){return (c('React').createElement(c('ImageBlock.react'),{className:n,spacing:'medium'},c('React').createElement(c('MercuryShareImage.react'),{height:l,source:this.props.attachment.media.image,width:l}),c('React').createElement('div',{style:{display:'flex',justifyContent:'center',flexDirection:'column',height:l}},this.renderTextBlock())));};m.prototype.renderMessengerImage=function(n){return (c('React').createElement(c('MessengerAttachmentImageBlock.react'),{className:n,attachment:this.props.attachment},this.renderTextBlock(),this.props.children));};m.prototype.renderDefaultImage=function(n){return (c('React').createElement(c('ImageBlock.react'),{className:c('joinClasses')(this.props.className,n)},c('React').createElement(c('Image.react'),{className:"__6n",src:this.props.attachment.media.image,width:l}),this.renderTextBlock(),this.props.children));};m.prototype.getCSSClasses=function(){var n=this.props.attachment,o=this.props.location;return (c('MercuryShareAttachmentRenderLocations').CHAT===o?"_49or":'')+(c('MercuryShareAttachmentRenderLocations').WEB_INBOX===o?' '+"__nm":'')+(c('MercuryShareAttachmentRenderLocations').CHAT_PREVIEW===o?' '+"_324d":'')+(c('MercuryShareAttachmentRenderLocations').CHAT!==o?' '+"_tih":'')+(!(n&&n.media.image)?' '+"_49ou":'')+(' '+"_310t");};m.prototype.render=function(){var n=this.props.attachment,o=this.props.location,p=this.getCSSClasses();if(n.media&&n.media.image){if(c('MercuryShareAttachmentRenderLocations').CHAT===o||c('MercuryShareAttachmentRenderLocations').CHAT_PREVIEW===o){return this.renderChatImage(p);}else if(c('MercuryShareAttachmentRenderLocations').MESSENGER===o)return this.renderMessengerImage(p);return this.renderDefaultImage(p);}return (c('React').createElement('div',{className:c('joinClasses')(this.props.className,p)},this.renderTextBlock(),this.props.children));};function m(){i.apply(this,arguments);}m.propType={attachment:c('MercuryShareAttachmentReactShape'),location:k.oneOf(c('MercuryShareAttachmentRenderLocations').getValues())};f.exports=m;}),null);
__d("XMessengerDotComSavedForLaterNuxSeenController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/save\/savemessagenux\/",{});}),null);
__d('MercuryFallbackShareAttachment.react',['cx','fbt','AsyncRequest','CollectionsDisplaySurface','CollectionCurationMechanisms','Link.react','MercuryFallbackShareAttachmentContent.react','MercuryShareAttachmentRenderLocations','MercuryShareAttachmentReactShape','MessengerAdsWebTypedLogger','MessengerDotComSaveModule','MNAdsLoggerEventEnum','React','ReactFragment','SaveMessageUtils','XMessengerDotComSavedForLaterNuxSeenController','XUIAmbientNUX.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;if(c.__markCompiled)c.__markCompiled();var l=c('React').PropTypes,m='focus',n='click',o='scroll',p=10000,q=30000;j=babelHelpers.inherits(r,c('React').Component);k=j&&j.prototype;function r(){k.constructor.call(this);this.state={showNux:false,nuxDisabled:false};}r.prototype.renderLink=function(s){if(c('MercuryShareAttachmentRenderLocations').isPreview(this.props.location)||!this.props.attachment.uri)return s;return (c('React').createElement(c('Link.react'),{className:"_5rw4",href:this.props.attachment.uri,onClick:this.$MercuryFallbackShareAttachment1.bind(this),target:'_blank'},s,this.renderLayers()));};r.prototype.render=function(){return this.renderLink(c('React').createElement(c('MercuryFallbackShareAttachmentContent.react'),babelHelpers['extends']({ref:'mercury_fallback_share_attachment'},this.props)));};r.prototype.$MercuryFallbackShareAttachment1=function(event){if(this.props.isSponsored){var s=this.props.attachment&&this.props.attachment.subattachments;if(!s)return;for(var t=s,u=Array.isArray(t),v=0,t=u?t:t[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var w;if(u){if(v>=t.length)break;w=t[v++];}else{v=t.next();if(v.done)break;w=v.value;}var x=w;new (c('MessengerAdsWebTypedLogger'))().setEvent(c('MNAdsLoggerEventEnum').LINK_CLICK).setIsSponsored(this.props.isSponsored).setItemID(x&&x.id).setMessageID(this.props.messageID).setPageID(this.props.pageID).log();}}if(this.state.nuxDisabled||!this.$MercuryFallbackShareAttachment2())return;this.$MercuryFallbackShareAttachment3();this.interactionTime=0;this.cancelMinConsumeTimeout=setTimeout(function(){if(!this.$MercuryFallbackShareAttachment4())this.setState({showNux:true,nuxDisabled:true});}.bind(this),p);this.cancelMaxConsumeTimeout=setTimeout(function(){if(!this.$MercuryFallbackShareAttachment4()){this.setState({showNux:false,nuxDisabled:false});this.clearTimeouts();}}.bind(this),q);var y=Date.now();this.cancelWindowInteractionTimeout=setTimeout(function(){this.$MercuryFallbackShareAttachment5(function(){if(!this.interactionTime)this.interactionTime=Date.now()-y;}.bind(this));}.bind(this),0);};r.prototype.clearTimeouts=function(){if(this.cancelWindowInteractionTimeout){clearTimeout(this.cancelWindowInteractionTimeout);this.cancelWindowInteractionTimeout=null;}if(this.cancelMaxConsumeTimeout){clearTimeout(this.cancelMaxConsumeTimeout);this.cancelMaxConsumeTimeout=null;}if(this.cancelMinConsumeTimeout){clearTimeout(this.cancelMinConsumeTimeout);this.cancelMinConsumeTimeout=null;}};r.prototype.onNUXCloseButtonClick=function(){this.setState({showNux:false});this.$MercuryFallbackShareAttachment6();this.$MercuryFallbackShareAttachment7();this.clearTimeouts();};r.prototype.renderLayers=function(){return this.$MercuryFallbackShareAttachment2()?c('ReactFragment').create(c('React').createElement(c('XUIAmbientNUX.react'),{contextRef:function(){return this.refs.mercury_fallback_share_attachment;}.bind(this),shown:this.state.showNux,onCloseButtonClick:this.onNUXCloseButtonClick.bind(this),position:'below',width:'custom',customwidth:300},i._("You can now save links and videos to Facebook by right clicking on a message."))):null;};r.prototype.$MercuryFallbackShareAttachment3=function(){if(!this.$MercuryFallbackShareAttachment8){this.$MercuryFallbackShareAttachment9=[];this.$MercuryFallbackShareAttachment8=[Event.listen(window,'click',this.$MercuryFallbackShareAttachment10.bind(this,n)),Event.listen(window,'focus',this.$MercuryFallbackShareAttachment10.bind(this,m)),Event.listen(window,'scroll',this.$MercuryFallbackShareAttachment10.bind(this,o))];}};r.prototype.$MercuryFallbackShareAttachment10=function(s){this.$MercuryFallbackShareAttachment9.forEach(function(t){t.call(this,s);},this);};r.prototype.$MercuryFallbackShareAttachment5=function(s){this.$MercuryFallbackShareAttachment9.push(s);};r.prototype.$MercuryFallbackShareAttachment4=function(){return this.interactionTime&&this.interactionTime>0;};r.prototype.$MercuryFallbackShareAttachment7=function(){if(this.$MercuryFallbackShareAttachment8){while(this.$MercuryFallbackShareAttachment8.length)this.$MercuryFallbackShareAttachment8.pop().remove();this.$MercuryFallbackShareAttachment8=null;this.$MercuryFallbackShareAttachment9=null;}};r.prototype.$MercuryFallbackShareAttachment2=function(){return c('MessengerDotComSaveModule').eligible_for_nux&&this.$MercuryFallbackShareAttachment11();};r.prototype.$MercuryFallbackShareAttachment11=function(){var s=this.props.attachment;if(!s)return false;var t=s.style_list;return c('SaveMessageUtils').isSavableMessageAttachment(t);};r.prototype.$MercuryFallbackShareAttachment6=function(){new (c('AsyncRequest'))().setURI(c('XMessengerDotComSavedForLaterNuxSeenController').getURIBuilder().getURI()).setData({action:'impression',surface:c('CollectionsDisplaySurface').MESSENGER_DOT_COM_MESSAGE,mechanism:c('CollectionCurationMechanisms').SAVE_MESSAGE_NUX,object_id:this.props.message_id,collection_id:98}).send();};r.propTypes={attachment:c('MercuryShareAttachmentReactShape'),isSponsored:l.bool,location:l.oneOf(c('MercuryShareAttachmentRenderLocations').getValues()),messageID:l.string,pageID:l.string};f.exports=r;}),null);
__d('MercurySharePreview.react',['cx','invariant','AsyncRequest','LeftRight.react','MercuryFallbackShareAttachment.react','MercuryShareAttachmentRenderLocations','React','XUICloseButton.react','XUISpinner.react'],(function a(b,c,d,e,f,g,h,i){var j,k;if(c.__markCompiled)c.__markCompiled();var l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;function m(){var n,o;'use strict';for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.state={attachmentData:null,loading:false},this.getShareData=function(){return this.state.attachmentData&&this.state.attachmentData.share_data;}.bind(this),this.isLoading=function(){return this.state.loading;}.bind(this),this.$MercurySharePreview4=function(s){this.$MercurySharePreview2=new (c('AsyncRequest'))().setURI('/message_share_attachment/fromParams/').setData({image_height:this.props.imageSize.height,image_width:this.props.imageSize.width,share_params:s.params,share_type:s.type}).setHandler(this.$MercurySharePreview6.bind(this,this.$MercurySharePreview7()));this.$MercurySharePreview2.send();this.setState({loading:true,attachmentData:null});}.bind(this),this.$MercurySharePreview5=function(s){this.$MercurySharePreview2=new (c('AsyncRequest'))().setURI('/message_share_attachment/fromURI/').setData({image_height:this.props.imageSize.height,image_width:this.props.imageSize.width,uri:s}).setHandler(this.$MercurySharePreview6.bind(this,this.$MercurySharePreview7()));this.$MercurySharePreview2.send();this.setState({loading:true,attachmentData:null});}.bind(this),this.$MercurySharePreview7=function(){return ++this.$MercurySharePreview1;}.bind(this),this.$MercurySharePreview8=function(){return this.$MercurySharePreview1;}.bind(this),this.$MercurySharePreview6=function(s,t){if(this.$MercurySharePreview8()!==s)return;this.setState({loading:false,attachmentData:t.payload});}.bind(this),this.$MercurySharePreview9=function(){this.$MercurySharePreview3();this.props.onClose&&this.props.onClose();}.bind(this),this.$MercurySharePreview3=function(){this.$MercurySharePreview7();this.$MercurySharePreview2&&this.$MercurySharePreview2.abort();this.$MercurySharePreview2=null;this.setState({loading:false,attachmentData:null});}.bind(this),o;}m.prototype.componentWillMount=function(){'use strict';this.$MercurySharePreview1=1337;this.$MercurySharePreview2=null;};m.prototype.componentWillUnmount=function(){'use strict';this.$MercurySharePreview3();};m.prototype.componentWillReceiveProps=function(n){'use strict';!!(n.share&&n.uri)?i(0):void 0;if(!n.share&&!n.uri)return this.$MercurySharePreview3();var o=this.state.attachmentData||this.state.loading;if(n.share&&!o){this.$MercurySharePreview4(n.share);}else if(n.uri&&!(o&&this.props.uri==n.uri))this.$MercurySharePreview5(n.uri);};m.prototype.componentDidUpdate=function(n,o){'use strict';this.props.onUpdate&&this.props.onUpdate(this);};m.prototype.render=function(){'use strict';var n="_tig"+(' '+"_tih");if(this.state.loading)return (c('React').createElement(c('LeftRight.react'),{direction:c('LeftRight.react').DIRECTION.right,className:n},c('React').createElement(c('XUISpinner.react'),{className:"_tii",size:'large',background:'light'}),c('React').createElement(c('XUICloseButton.react'),{className:"_tij",shade:'dark',size:'small',onClick:this.$MercurySharePreview9})));var o=this.state.attachmentData;if(!o)return c('React').createElement('div',null);return (c('React').createElement('div',null,c('React').createElement(c('MercuryFallbackShareAttachment.react'),{attachment:o,location:c('MercuryShareAttachmentRenderLocations').CHAT_PREVIEW}),c('React').createElement(c('XUICloseButton.react'),{className:"_tij",shade:'dark',size:'small',onClick:this.$MercurySharePreview9})));};m.propTypes={imageSize:l.shape({width:l.number.isRequired,height:l.number.isRequired}).isRequired,location:l.oneOf(c('MercuryShareAttachmentRenderLocations').getValues()).isRequired,share:l.shape({params:l.array,type:l.number}),uri:l.string,onClose:l.func,onUpdate:l.func};f.exports=m;}),null);
__d('MercuryShareSizeImageByWidthMixin',['Image.react','MercuryAttachment','MercuryShareAttachmentRenderLocations','MercuryShareImage.react','React'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={_getImageSize:function i(j){var k=this.props.attachment&&this.props.attachment.media,l=j&&k&&k.animated_image?k&&k.animated_image_size:k&&k.image_size;return this.props.maxWidth?c('MercuryAttachment').resizeContain({height:this.props.maxWidth,width:this.props.maxWidth},l):l;},_renderImage:function i(j){var k=this.props.attachment&&this.props.attachment.media,l=this._getImageSize(j),m=j&&k&&k.animated_image?k.animated_image:k&&k.image;if(this.props.location==c('MercuryShareAttachmentRenderLocations').CHAT){return (c('React').createElement(c('MercuryShareImage.react'),{height:l&&l.height,source:m,width:l&&l.width}));}else return (c('React').createElement(c('Image.react'),{height:l&&l.height,src:m,width:l&&l.width}));}};f.exports=h;}),null);
__d('MercuryVideoShareXMATextBlock.react',['cx','React','joinClasses'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes,l=4;i=babelHelpers.inherits(m,c('React').Component);j=i&&i.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=j.constructor).call.apply(n,[this].concat(q)),this.$MercuryVideoShareXMATextBlock1=function(){this.props.url&&window.open(this.props.url);}.bind(this),o;}m.prototype.render=function(){if(!this.props)return c('React').createElement('div',{className:"__6j"});var n=this.props.width?{maxWidth:this.props.width-l}:{},o={textDecoration:'none'};return c('React').createElement('div',{className:c('joinClasses')(this.props.className,"__6j _43kk"),style:n},c('React').createElement('a',{onClick:this.$MercuryVideoShareXMATextBlock1,style:o},this.renderTitle(),this.renderDescription(),this.renderSource()));};m.prototype.renderTitle=function(){if(!this.props.title)return null;return c('React').createElement('div',{className:"__6k"+(!this.props.uri&&!this.props.description?' '+"_2xsq":'')},this.props.title);};m.prototype.renderDescription=function(){if(!this.props.description)return null;return c('React').createElement('div',{className:"__6l"},this.props.description);};m.prototype.renderSource=function(){if(!this.props.source)return null;return c('React').createElement('div',{className:"__6m"},this.props.source);};m.propTypes={className:k.string,description:k.string,source:k.string,title:k.string,url:k.string,width:k.number};f.exports=m;}),null);
__d('MercuryVideoShareXMA.react',['cx','MessengerVideoPlayer.react','MercuryVideoShareXMATextBlock.react','React','joinClasses'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes,l=181,m=200;i=babelHelpers.inherits(n,c('React').PureComponent);j=i&&i.prototype;n.prototype.render=function(){var o=this.$MercuryVideoShareXMA1(this.props.attachment),p=this.$MercuryVideoShareXMA2(o);return (c('React').createElement('div',{className:"_3duc"},p,this.$MercuryVideoShareXMA3(o&&o.original_dimensions)));};n.prototype.$MercuryVideoShareXMA2=function(o){return o?c('React').createElement(c('MessengerVideoPlayer.react'),{attachment:this.props.attachment,videoData:o,isInThread:true,isVisible:this.props.isVisible,className:c('joinClasses')(this.props.className,"_n4o"+(' '+"_3_om")+(' '+"_1wno"))}):null;};n.prototype.$MercuryVideoShareXMA1=function(o){if(!o.media||!o.media.image_size||!o.target||!o.target.video_id)return null;var p=o.media.image_size;return {legacy_attachment_id:o.target.video_id,original_dimensions:this.$MercuryVideoShareXMA4(p),start_muted:true,no_autoplay:true,no_fullscreen:true,hide_controls_on_finish:true,url:o.media.image,is_share:true};};n.prototype.$MercuryVideoShareXMA4=function(o){if(o.width<=l&&o.height<=m)return {x:o.width,y:o.height};var p=Math.min(l/o.width,m/o.height),q=Math.ceil(o.width*p),r=Math.ceil(o.height*p);return {x:q,y:r};};n.prototype.$MercuryVideoShareXMA3=function(o){var p=this.props.attachment;return (c('React').createElement(c('MercuryVideoShareXMATextBlock.react'),{description:p.description,source:p.source,title:p.video_title,url:p.uri,width:o&&o.x}));};function n(){i.apply(this,arguments);}n.propTypes={attachment:k.object.isRequired,isVisible:k.bool,onClick:k.func};f.exports=n;}),null);
__d('MercuryVideoShareAttachment.react',['cx','ix','CenteredContainer.react','FBOverlayBase.react','FBOverlayContainer.react','FBOverlayElement.react','Image.react','Link.react','MercuryAttachmentType','MercuryConfig','MercuryFallbackShareAttachment.react','MercuryShareAttachmentReactShape','MercuryShareAttachmentRenderLocations','MercuryShareSizeImageByWidthMixin','MercuryVideoShareXMA.react','MessengerPhotoishXMA.react','React'],(function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes,k=c('React').createClass({displayName:'MercuryVideoShareAttachment',mixins:[c('MercuryShareSizeImageByWidthMixin')],propTypes:{attachment:c('MercuryShareAttachmentReactShape'),location:j.oneOf(c('MercuryShareAttachmentRenderLocations').getValues()),maxWidth:j.number},render:function l(){if(this.props.location===c('MercuryShareAttachmentRenderLocations').CHAT_PREVIEW){return c('React').createElement(c('MercuryFallbackShareAttachment.react'),this.props);}else if(this.props.location===c('MercuryShareAttachmentRenderLocations').MESSENGER){return (c('React').createElement(c('MessengerPhotoishXMA.react'),{attachType:c('MercuryAttachmentType').VIDEO,attachments:[this.props.attachment],isVisible:!!this.props.isVisible}));}else if(this.props.location===c('MercuryShareAttachmentRenderLocations').CHAT&&c('MercuryConfig').MessengerSharedVideoNewDesign)return c('React').createElement(c('MercuryVideoShareXMA.react'),this.props);var m=this.props.attachment&&this.props.attachment.uri;return (c('React').createElement(c('Link.react'),{rel:'theater',href:m},c('React').createElement(c('FBOverlayContainer.react'),{className:"clearfix",style:this._getImageSize()},c('React').createElement(c('FBOverlayBase.react'),null,this._renderImage()),c('React').createElement(c('FBOverlayElement.react'),null,c('React').createElement(c('CenteredContainer.react'),{vertical:true},c('React').createElement(c('Image.react'),{src:i('/images/chat/chat_play_icon.png')}))))));}});f.exports=k;}),null);